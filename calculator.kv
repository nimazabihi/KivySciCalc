<CalculatorLayout>:
    orientation: "vertical"
    padding: 10
    spacing: 10

    Label:
        id: display
        text: root.display_text
        font_size: 32
        size_hint_y: None
        height: 80
        halign: "right"
        padding: [10, 0]
        color: (1, 1, 1, 1) if root.is_dark_theme else (0, 0, 0, 1)

    GridLayout:
        cols: 6
        spacing: 5

        Button:
            text: "sin"
            on_press: root.button_press("sin")
        Button:
            text: "cos"
            on_press: root.button_press("cos")
        Button:
            text: "tan"
            on_press: root.button_press("tan")
        Button:
            text: "log"
            on_press: root.button_press("log")
        Button:
            text: "√"
            on_press: root.button_press("sqrt")
        Button:
            text: "π"
            on_press: root.button_press("pi")

        Button:
            text: "7"
            on_press: root.button_press("7")
        Button:
            text: "8"
            on_press: root.button_press("8")
        Button:
            text: "9"
            on_press: root.button_press("9")
        Button:
            text: "/"
            on_press: root.button_press("/")
        Button:
            text: "x²"
            on_press: root.button_press("square")
        Button:
            text: "e"
            on_press: root.button_press("e")

        Button:
            text: "4"
            on_press: root.button_press("4")
        Button:
            text: "5"
            on_press: root.button_press("5")
        Button:
            text: "6"
            on_press: root.button_press("6")
        Button:
            text: "*"
            on_press: root.button_press("*")
        Button:
            text: "x³"
            on_press: root.button_press("cube")
        Button:
            text: "!"
            on_press: root.button_press("factorial")

        Button:
            text: "1"
            on_press: root.button_press("1")
        Button:
            text: "2"
            on_press: root.button_press("2")
        Button:
            text: "3"
            on_press: root.button_press("3")
        Button:
            text: "-"
            on_press: root.button_press("-")
        Button:
            text: "1/x"
            on_press: root.button_press("inverse")
        Button:
            text: "x^y"
            on_press: root.button_press("power")

        Button:
            text: "0"
            on_press: root.button_press("0")
            size_hint_x: 2
            colspan: 2
        Button:
            text: "."
            on_press: root.button_press(".")
        Button:
            text: "+"
            on_press: root.button_press("+")
        Button:
            text: "="
            on_press: root.button_press("=")
        Button:
            text: "CLR MSG"
            on_press: root.clear_message()

        Button:
            text: "%"
            on_press: root.button_press("%")

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 10

        Button:
            text: "Theme"
            on_press: root.toggle_theme()
        Button:
            text: "History"
            on_press: root.show_history()
        Button:
            text: "DEL"
            on_press: root.delete()
        Button:
            text: "CLEAR"
            on_press: root.clear()